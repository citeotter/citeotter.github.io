(()=>{$(document).ready(function(){$("#fetch-form").on("submit",function(t){t.preventDefault();let o=this,s=new FormData(o),e=$("#result");e.text("Processing..."),$.ajax({url:o.action,type:o.method,data:s,processData:!1,contentType:!1,success:function(a,u,f){let{output_file:r,page_numbers:i}=a;e.text(`${i.length} annotated pages found.`),c("Annotated pages filtered successfully.");let n=document.createElement("a");n.href=`https://wolfram77.pythonanywhere.com/fetch?file=${r}`,n.textContent="Download Filtered Pages",e.append("<br>"),e.append(n)},error:function(){e.text("Failed to filter annotated pages. Please try again."),l("Failed to filter annotated pages.")}})})});function c(t){iziToast.success({title:"Success",message:t,position:"topRight"})}function l(t){iziToast.error({title:"Error",message:t,position:"topRight"})}})();
